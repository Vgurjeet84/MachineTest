
<link href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css" rel="stylesheet">

<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>
<div class="container">
  <h1>Hello, Nude Solution!</h1>
  <p>Welcome to your new single-page application, built with:Dot.Net Core and Angular</p>

  <div class="row">
    <div class="col-8">

      <table class="table table-striped table-bordered" *ngIf="categories.length>0">     
        <thead>
          <tr>
            <td scope="col">Category Name</td>
            <td scope="col">Total</td>
            <td></td>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let category of categories">
            <th scope="row">{{category.Name}}</th>
            <td>$ {{category.Total}}</td>
            <div>
              <table class="table mb-0" *ngIf="category.subCategories.length>0">
                <thead>
                  <tr>
                    <th scope="col">Sub Category Name</th>
                    <th scope="col">Total</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let subcategory of category.subCategories">
                    <th scope="row">{{subcategory.SubCategoryName}}</th>
                    <td>$ {{subcategory.SubTotal}}</td>
                    <td>
                      <a href="javascript:void()" title="Delete" (click)="DeleteSubCategory(subcategory.SubCategoryId)"> <i class='bi bi-trash'></i></a>
                    </td>
                  </tr>
                </tbody>
              </table>
              <p *ngIf="category.subCategories.length<1">No Sub Category Found</p>
            </div>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td scope="row">Total</td>
            <td>$ {{MainTotal}}</td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>

  <p *ngIf="categories.length<1">No Record Found</p>
</div>

<script>
  function detailFormatter(index, row) {
    var html = []
    $.each(row, function (key, value) {
      html.push('<p><b>' + key + ':</b> ' + value + '</p>')
    })
    return html.join('')
  }
</script>
